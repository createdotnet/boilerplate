
// Pagebuilder full width

@mixin pagebuilder-full-width(  $truly-full: true,
                                $max-width: 1000px,
                                $page-padding: 20px,
                                $page-container: ".page-wrapper",
                                $content-container: $page-container " > .inner-constraint"){

    .has-pb-full-width-containers {

        // remove page padding - will be applied back to PB blocks
        #{$page-container} {
            padding-left: 0;
            padding-right: 0;

            // So we still have a max with on massive screens, stop background images stretching too much
            max-width: $max-width * 2;
            margin: auto;
        }

        // remove page max-width - will be applied back to PB blocks
        #{$content-container} {
            max-width: none;
        }

        // Set margin and max-width back on
        .container,
        .container__content,
        .site-main__page-title {
            max-width: $max-width;
            margin: auto;
        }

        .site-main__page-title {
            margin-bottom: .4em;
        }

        // Put padding on text and headings
        .container--flush .content-block--text,
        .container--flush .content-block--heading,
        .site-main__page-title {

            @if ($truly-full == true) {

                @media (max-width: $max-width + ($page-padding*2) ) {
                    padding-left: $page-padding;
                    padding-right: $page-padding;
                }

            } @else {
                padding-left: $page-padding;
                padding-right: $page-padding;
            }
        }

        // Remove max-width when the the "full width" container setting is on
        .container.container--full-width {
            max-width: none;
        }

        // Sort out side columns
        &.wdk_columnCount_1 .site-main,
        &.wdk_columnCount_2 .site-main {
            width: 100% !important;
            padding-left: 0 !important;
            padding-right: 0 !important;
            margin: 0;
            float: none;
        }
        .site-complementary--primary,
        .site-complementary--secondary {
            width: 100% !important;
            max-width: $max-width;
            margin: auto;
            float: none !important;
            padding-left: $page-padding;
            padding-right: $page-padding;
        }

    } // end .has-pb-full-width-containers

} // end @mixin
